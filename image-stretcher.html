<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0">
<title>Image Stretcher</title>
<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:'Courier New',monospace;min-height:100vh;padding:20px;display:flex;justify-content:center;align-items:center;transition:background 8s ease;}
.container{background:rgba(20,20,20,0.85);border:3px solid #333;padding:30px;max-width:900px;width:100%;box-shadow:0 0 40px rgba(0,0,0,0.8),inset 0 0 20px rgba(0,0,0,0.5);}
h1{text-align:center;color:#ddd;margin-bottom:25px;font-size:24px;text-transform:uppercase;letter-spacing:3px;text-shadow:2px 2px 4px rgba(0,0,0,0.8);}
.upload-area{border:3px dashed #666;padding:40px;text-align:center;cursor:pointer;margin-bottom:25px;background:rgba(40,40,40,0.6);transition:all 0.3s;}
.upload-area:hover{border-color:#888;background:rgba(50,50,50,0.6);}
.upload-area.dragover{background:rgba(60,60,60,0.6);border-color:#aaa;}
#fileInput{display:none;}
.upload-text{color:#aaa;font-size:16px;font-weight:bold;text-transform:uppercase;letter-spacing:2px;}
.canvas-container{display:none;margin-top:25px;}
.canvas-row{display:flex;gap:20px;margin-bottom:25px;flex-wrap:wrap;justify-content:center;}
.canvas-wrapper{text-align:center;}
.canvas-wrapper h3{margin-bottom:10px;color:#999;font-size:14px;text-transform:uppercase;letter-spacing:1px;}
canvas{border:2px solid #444;max-width:100%;height:auto;box-shadow:0 0 15px rgba(0,0,0,0.7);}
.controls{background:rgba(30,30,30,0.7);padding:20px;border:2px solid #555;margin-top:20px;}
.slider-container{margin-bottom:15px;}
.slider-container label{display:block;margin-bottom:10px;color:#bbb;font-weight:bold;font-size:14px;text-transform:uppercase;letter-spacing:1px;}
.slider-value{color:#ddd;}
input[type="range"]{width:100%;height:6px;background:#555;outline:none;-webkit-appearance:none;border:1px solid #333;}
input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:20px;height:20px;background:#888;cursor:pointer;border:2px solid #333;}
input[type="range"]::-webkit-slider-thumb:hover{background:#aaa;}
input[type="range"]::-moz-range-thumb{width:20px;height:20px;background:#888;cursor:pointer;border:2px solid #333;}
input[type="range"]::-moz-range-thumb:hover{background:#aaa;}
.download-btn{background:#444;color:#ddd;border:2px solid #666;padding:12px 25px;font-size:14px;font-weight:bold;cursor:pointer;width:100%;margin-top:10px;text-transform:uppercase;letter-spacing:2px;font-family:'Courier New',monospace;}
.download-btn:hover{background:#555;border-color:#888;}
</style>
</head>
<body>
<div class="container">
<h1>Image Stretcher</h1>
<div class="upload-area" id="uploadArea">
<div class="upload-text">Click or drag image here</div>
<input type="file" id="fileInput" accept="image/*">
</div>
<div class="canvas-container" id="canvasContainer">
<div class="canvas-row">
<div class="canvas-wrapper">
<h3>Original</h3>
<canvas id="originalCanvas"></canvas>
</div>
</div>
<div class="canvas-row">
<div class="canvas-wrapper">
<h3>4:3 Ratio</h3>
<canvas id="fourThreeCanvas"></canvas>
</div>
<div class="canvas-wrapper">
<h3>Square Stretched</h3>
<canvas id="squareCanvas"></canvas>
</div>
</div>
<div class="controls">
<div class="slider-container">
<label>Extra Horizontal Stretch: <span class="slider-value" id="stretchValue">0%</span></label>
<input type="range" id="stretchSlider" min="0" max="200" value="0" step="1">
</div>
<button class="download-btn" id="downloadBtn">Download</button>
</div>
</div>
</div>
<script>
const uploadArea=document.getElementById('uploadArea');
const fileInput=document.getElementById('fileInput');
const canvasContainer=document.getElementById('canvasContainer');
const originalCanvas=document.getElementById('originalCanvas');
const fourThreeCanvas=document.getElementById('fourThreeCanvas');
const squareCanvas=document.getElementById('squareCanvas');
const stretchSlider=document.getElementById('stretchSlider');
const stretchValue=document.getElementById('stretchValue');
const downloadBtn=document.getElementById('downloadBtn');
let originalImage=null;
uploadArea.addEventListener('click',()=>fileInput.click());
uploadArea.addEventListener('dragover',(e)=>{e.preventDefault();uploadArea.classList.add('dragover');});
uploadArea.addEventListener('dragleave',()=>{uploadArea.classList.remove('dragover');});
uploadArea.addEventListener('drop',(e)=>{e.preventDefault();uploadArea.classList.remove('dragover');const files=e.dataTransfer.files;if(files.length>0){handleFile(files[0]);}});
fileInput.addEventListener('change',(e)=>{if(e.target.files.length>0){handleFile(e.target.files[0]);}});
stretchSlider.addEventListener('input',(e)=>{stretchValue.textContent=e.target.value+'%';updateSquareCanvas();});
downloadBtn.addEventListener('click',()=>{const link=document.createElement('a');link.download='stretched-square-image.png';link.href=squareCanvas.toDataURL();link.click();});
function handleFile(file){if(!file.type.startsWith('image/')){alert('Please upload an image file');return;}
const reader=new FileReader();reader.onload=(e)=>{const img=new Image();img.onload=()=>{originalImage=img;processImage();canvasContainer.style.display='block';};img.src=e.target.result;};reader.readAsDataURL(file);}
function processImage(){const origCtx=originalCanvas.getContext('2d');const maxDisplaySize=300;const scale=Math.min(maxDisplaySize/originalImage.width,maxDisplaySize/originalImage.height);originalCanvas.width=originalImage.width*scale;originalCanvas.height=originalImage.height*scale;origCtx.drawImage(originalImage,0,0,originalCanvas.width,originalCanvas.height);create4to3Canvas();updateSquareCanvas();}
function create4to3Canvas(){const ctx=fourThreeCanvas.getContext('2d');const displaySize=300;fourThreeCanvas.width=displaySize;fourThreeCanvas.height=displaySize*3/4;ctx.drawImage(originalImage,0,0,originalImage.width,originalImage.height,0,0,fourThreeCanvas.width,fourThreeCanvas.height);}
function updateSquareCanvas(){const ctx=squareCanvas.getContext('2d');const fourThreeData=fourThreeCanvas;const baseSize=300;const extraStretch=1+(stretchSlider.value/100);squareCanvas.width=baseSize;squareCanvas.height=baseSize;const baseHorizontalStretch=squareCanvas.width/fourThreeCanvas.height;const totalHorizontalStretch=baseHorizontalStretch*extraStretch;const sourceWidth=squareCanvas.height/totalHorizontalStretch;const sourceX=(fourThreeData.width-sourceWidth)/2;ctx.drawImage(fourThreeData,sourceX,0,sourceWidth,fourThreeData.height,0,0,squareCanvas.width,squareCanvas.height);}
const colors=[
['#2c3e50','#34495e'],['#16a085','#1abc9c'],['#8e44ad','#9b59b6'],['#c0392b','#e74c3c'],['#d35400','#e67e22'],['#27ae60','#2ecc71'],['#2980b9','#3498db'],['#7f8c8d','#95a5a6'],['#8b4513','#a0522d'],['#4a5568','#2d3748'],['#1a202c','#2d3748'],['#744210','#8b5a2b'],['#1e3a8a','#1e40af'],['#7c2d12','#991b1b']
];
let currentColorIndex=0;
function setRandomBackground(){currentColorIndex=(currentColorIndex+1)%colors.length;const nextColorIndex=(currentColorIndex+1)%colors.length;const color1=colors[currentColorIndex][Math.floor(Math.random()*2)];const color2=colors[nextColorIndex][Math.floor(Math.random()*2)];const angle=Math.floor(Math.random()*360);document.body.style.background=`linear-gradient(${angle}deg,${color1},${color2})`;}
setRandomBackground();
setInterval(setRandomBackground,8000);
</script>
</body>
</html>